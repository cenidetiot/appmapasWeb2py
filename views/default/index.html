{{extend 'layout.html'}}

{{block head}}
<link rel="stylesheet" href="{{=URL('static','css/estilos.css')}}"/>
<link rel="stylesheet" href="{{=URL('static','css/leaflet.css')}}"/>
<link rel="stylesheet" href="{{=URL('static','css/leafletDraw.css')}}"/>
{{end}} 

{{block page_js}}
<script src="{{=URL('static','js/moment.js')}}"></script>
<script src="{{=URL('static','js/moment-timezone.js')}}"></script>
<script src="{{=URL('static','js/luxon.min.js')}}"></script>
<script src="{{=URL('static','js/devices1.js')}}"></script>
<script src="{{=URL('static','js/devices2.js')}}"></script>
<script src="{{=URL('static','js/devices3.js')}}"></script>
{{end}}

{{block header}}
<center style="background-color: #333; color:white; padding:30px">
  <h1> Maps Application </h1>
</center>
{{end}}

<ul class="nav justify-content-center">
  <li class="nav-item">
    <a class="nav-link" href="{{=URL('default','index')}}">User Devices</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="{{=URL('default','alerts')}}">Alerts</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="{{=URL('default','delimitation')}}">Areas Delimitation</a>
  </li>
</ul>
<br>

<h2> Users' Searching </h2>
<br>

<div class="form-group row">
  <label for="campuslist">Select an searching option: </label>
  <select class="form-control" id="optionsView" name="optionsView">
    <option value="" disabled> Select an search option </option>
    <option value="who-was" selected> Search 1: A user that was in a specific moment, in a institution's zone </option>
    <option value="who-is"> Search 2: A User that is inside of an institution's zone </option>
    <option value="devices-in-zone"> Search 3: All Users that are in a institution's zone </option>
  </select>
</div>

  <div class="row">
    <div class="col-sm-4 card" >
      <!-- WHO WAS IN THE ZONE INSTITUTION-->
      <div class="form-group" id="FormGroup1">
        <div class="card-header">
          <h4 class="text-center"> Search Of User 1 </h4>
        </div>
          <form method="GET" action="javascript:void(0);">
            <div class="form-group">
              <label for="zonelist1"> Select the Zone: </label>
              <select id="zonelist1" name="zonelist1" class="form-control">
                <option value="" disabled selected>Select an option</option>
              </select>
            </div>
            <div class="form-group">
              <label for="phone-number" id="label-input-search1">User's Phone Number: </label>
              <input type="text" name="input-search1" id="phonenumber-input" class="form-control">
            </div>
            <div class="form-group">
              <label for="dateInput" id="label-date-input"> Select the Date: </label>
              <input type="date" name="date" id="dateInput" class="form-control">
            </div>
            <div class="form-group">
              <label for="timeInput" id="label-time-input"> Type the hour: </label>
              <input type="text" placeholder="00" name="timeInput" id="timeInput" class="form-control"/>
            </div>
            <button type="button" id="query" onclick="searching1()" class="col-12 btn btn-success btn-rounded text-center"> Consult </button>
          </form>
        </div>
        <!-- END WHO WAS IN THE ZONE INSTITUTION-->
        <!--WHO IS IN THE INSTITUTION-->
        <div class="form-group" id="FormGroup2">
          <div class="card-header">
            <h4 class="text-center">Search of User 2</h4>
          </div>
          <form method="GET" action="javascript:void(0);">
            <div class="form-group">
              <label for="zonelist2">Select the zone: </label>
              <select class="form-control" id="zonelist2" name="zonelist2">
                <option> Select an option </option>
              </select>
            </div>
            <div class="form-group">
              <label for="input-search2" id="label-input-search2">User's Phone Number: </label>
              <input type="text" name="input-search2" id="input-search2" class="form-control">
            </div>
            <br>
            <button type="button" id="query" onclick="searching2()" class="col-12 btn btn-success btn-rounded text-center"> Consult </button>
          </form>
        </div>
        <!-- END WHO IS IN THE INSTITUTION-->
        <!--All Devices that are in a Zone -->
        <div class="form-group" id="FormGroup3">
          <div class="card-header">
            <h4 class="text-center"> Search of User 3 </h4>
          </div>
          <form method="GET" action="javascript:void(0);">
            <div class="form-group">
              <label for="zonelist3">Select the zone: </label>
              <select class="form-control" id="zonelist3" name="zonelist3">
                <option> Select an option </option>
              </select>
            </div>
            <br>
            <button type="button" id="query" onclick="searching3()" class="col-12 btn btn-success btn-rounded text-center"> Consult </button>
          </form>
          <br>
        </div>
        <!-- All Devices that are in a Zone -->
      </div>
      <br>
      <div class="col-sm-8">
        <h2 class="text-center"> Institution Map</h2>
        <div id="mapid">
        </div>
      </div>
    </div>




